%!TEX root = report.tex
\exercise{Filtering}
\setcounter{subsection}{0}
\subsection{Gaussian lowpass filter}
We have implemented the Gaussian lowpass filter according to \cite[Equation~4.8-7]{gonzalez2002digital} in the function \texttt{IPgaussian\_lowpass} in the following function:
\matlabexternal{IPgaussian_lowpass.m}

For convenience, we've named the function \texttt{IPgaussian\_lowpass}, so it doesn't cause confusion with the highpass filter below.

The values \texttt{P} and \texttt{Q} are required as arguments, since the function has to compute the distance from the origin, which is in the center of the image.

\subsection{IPftfilter}
To filter frequencies from the frequency domain, we have written a function \texttt{IPftfilter} that performs filtering in the frequency domain.
The code that does this is listed below:
\matlabexternal{IPftfilter.m}

This function takes the following arguments:
\begin{itemize}
	\item \texttt{image}: The input image.
	\item \texttt{D\_0}: Cutoff frequency. This is the frequency that governs which region of the frequency domain will be `cut off'.
	\item \texttt{filter\_type}: The type of filter that is to be applied. Currently only the Gaussian lowpass filter (GLPF) and Gaussian highpass filter (GHPF) are implemented.
	\item \texttt{P} and \texttt{Q}: Dimensions of the Fourier domain that will be evaluated.
		If \texttt{P} or \texttt{Q} are higher than the original image, the image will be padded before being tranformed to the Fourier domain.
		After returning to the spatial domain, the redundant (padded) regions are sliced from the image prior to returning the filtered image.
		Setting \texttt{P} or \texttt{Q} lower than the original image is not advised, since parts of the image will be lost in that case.
\end{itemize}

The function transforms the image to the frequency domain, computes the filter, and subsequently multiplies the image with the filter, element-wise.
After transforming the image back to the spatial domain, taking the real part, and optionally doing some slicing, the filtered image is obtained.

\subsection{Lowpass characters}
Using the \texttt{IPftfilter} function on the image \texttt{characters.tif}, with the cutoff frequencies 5, 20, 30, 50 and 100, we've produced the images in Figure~\ref{fig:lowChars}.
We believe that with these values, the images in \cite[Figure~4.48]{gonzalez2002digital} are best approximated.
\begin{figure}[ht]
 \centering
 \includegraphics[width=\linewidth]{characters_low_pass.eps}
 \caption{
		The lowpass Gaussian filter at work for different cutoff frequencies.
		A higher cutoff frequency results in fewer details, since the region that is cut off is larger.
		A lower cutoff frequency results in a more blurred image, since the higher frequencies are cut off and only the low frequency signals persist.
	}
 \label{fig:lowChars}
\end{figure}

\clearpage

\subsection{Gaussian highpass filter}
The complementary Gaussian highpass filter was also implemented, as the function \texttt{IPgaussian\_highpass}.
Naturally, it was the inverse of the lowpass filter.
Because the highpass filter is very similar to the lowpass filter it doesn't need a detailed explanation, and is merely listed below:
\matlabexternal{IPgaussian_highpass.m}

\subsection{Highpass characters}
Using the same \texttt{IPftfilter} function, we've applief the highpass filter to the \texttt{characters} image.
To approximate \cite[Figure~4.56]{gonzalez2002digital}, the cutoff frequencies \(30\), \(60\) and \(100\) have been used. We have chosen these cutoff frequencies as they are mentioned in the caption of \cite[Figure~4.56]{gonzalez2002digital} and, as figure~\ref{fig:highChars} illustrate, the images seem very similar.
\begin{figure}[ht]
 \centering
 \includegraphics[width=\linewidth]{characters_high_pass.eps}
 \caption{
 	The highpass Gaussian filter at work for different cutoff frequencies.
 	Since higher frequencies persist when using a highpass filter, abrubt changes in the image (edges) appear clearly in the filtered image.
 	However, when the cutoff frequency is too high, too much information will be removed, resulting in an almost entirely black image.
 }
 \label{fig:highChars}
\end{figure}

\clearpage